<body><h2>XPostFacto 3</h2>

Ryan Rempel<br>
<a href="mailto:osxguru@macsales.com">osxguru@macsales.com</a><br>
March 28, 2005

<p>XPostFacto is a utility which helps to install and boot Mac OS X, Mac OS X Server, and Darwin on certain unsupported systems. When Mac OS X installs successfully, its stability on unsupported systems appears to be excellent. However, there are cases in which Mac OS X is difficult to install, and there are a variety of problems you can run into. So read carefully.

You should also remember to check the <a href="http://eshop.macsales.com/OSXCenter/XPostFacto/framework.cfm?page=XPostFacto3.html">online version</a> of this documentation from time to time, to see whether there have been any changes.

<p>Here's a quick link to download the latest version. Previous versions are also available in the <a href="#links">version history</a> below, along with a list of changes.

<blockquote>
<dl>
<dt><b>Stable:</b>
<dd><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.sitx">Download XPostFacto 3.0 (.sitx)</a> 
(or in the <a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.sit">older .sit format</a>)

<p><dt><b>Testing:</b>
<dd><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.1a3.sitx">Download XPostFacto 3.1a3 (.sitx)</a> 
(or in the <a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.1a3.sit">older .sit format</a>)
</dl>
</blockquote>

<p>XPostFacto is an open-source application which you may download and try for free. However, I encourage you to contribute to the ongoing work on XPostFacto by <a href="https://eshop.macsales.com/OSXCenter/XPostFacto/Billing_Form.cfm">registering as an XPostFacto user</a> ($25). This helps to support the continuing development of XPostFacto, and also gives you an account on the <a href="http://forum.macsales.com/">tech support forum</a>. If you are already a registered user of XPostFacto, you can make a <a href="https://eshop.macsales.com/OSXCenter/XPostFacto/Billing_Form.cfm">contribution to its continuing development</a>.

<h4>What's New</h4>

<p>Version 3.1a3 makes some changes to the settings which control the stage (in the boot process) at which certain kernel extensions are loaded. The required settings vary depending on whether it is a "normal" boot or an installation from CD. BootX will now notice this and make the necessary adjustments. This will avoid some error messages early in the boot process. I had thought those error messages were harmless, but it seems that it may be a contributing factor in the "black screen" problem on the Beige G3s (the actual mechanism is obscure, but it is possible that these changes may help, at least with some subset of the problem).

<h4><a name="problems">Known Problems</a></h4>

<p>Here is a partial list of known problems with the current version of XPostFacto. You can also consult the <a href="http://www.opendarwin.org/bugzilla/buglist.cgi?product=XPostFacto&bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&bug_status=RESOLVED&cmdtype=doit">bug list</a> directly.

<ul>
<li>OWCCacheConfig is often <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=855">causing problems</a>, especially with Panther. The workaround for the moment is to de-select the "Enable L2/L3 Cache" option in XPostFacto (I have made this the default setting for now). There are several other options for enabling the L2/L3 cache -- the forum contains a <a href="http://forum.macsales.com/viewtopic.php?t=1766">HOWTO on this topic</a>.

<li>There is an <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=868">8 GB limit</a> that applies when installing Mac OS X on an ATA drive on an "Old World" machine. The issue is that the firmware drivers for the built-in ATA bus on Old World machines will not access past the 8 GB mark. This means that Mac OS X must be installed on the first partition, and that partition must be less than 8 GB in size. The Mac OS X Installer knows about this, and will refuse to install if it detects the problem. Unfortunately, the Mac OS X Installer also refuses to install on ATA drives connected to PCI cards on Old World machines, even though that would actually work. Complicating this further is that some ATA cards "pretend" to be SCSI cards in Mac OS X, while others do not. I have a few ideas about how to <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=872">work around</a> some of these issues, but have not implemented that yet.

<li>Booting from a Firewire drive is sometimes problematic -- it seems to depend on <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=879">which PCI card</a> is used, or sometimes <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=880">which Firewire devices are attached.</a> One workaround for error messages which appear in verbose mode is to tap the keyboard -- it is not clear why that should help, but in some cases it does.

<li>Sometimes files are copied from the CD to the target volume with <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1160">the wrong permissions</a>, which causes errors when booting. I am hoping that recent versions of XPF have mostly fixed the problem. I have also added the "Check Permissions" command (in the "Cache" menu) which can be used to fix the problem.

<li>There are some problems with <a href="http://bugzilla.opendarwin.org/show_bug.cgi?id=1171">video in Panther on the Wallstreet Powerbooks</a>, at least in some configurations. One problem is a kernel panic (or perhaps a WindowServer failure) which seems to correspond with high levels of disk activity. Another problem is colour problems. Enabling the "Use PatchedRagePro" option in XPF can help. This enables the PatchedRagePro.kext, which does two things. For video with a device-id of 0x4C50, it activates the ATIRagePro.kext. This is the equivalent of the <a href ="http://www.xlr8yourmac.com/OSX/osx_ragepro_driver_tip.html">Info.plist modification described at XLR8YourMac</a>, except that it doesn't actually modify ATIRagePro.kext. For video with a device-id of 0x4C47, it disables the ATIRageProGA.plugin, which seems to solve a problem with using "thousands" of colours.

<li>A similar problem sometimes occurs with <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1708">Beige G3 video in Panther</a> -- it is some kind of kernel panic or WindowServer failure. It is possible that version 3.1a3 will help with at least some cases of this problem.

<li>The <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1374">Panther video driver for Kanga</a> (Original Powerbook G3) only supports 256 colours for the moment.

<li>The Wallstreet Powerbooks sometimes boot from the Install CD in a way that doesn't <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1389">pick up the special settings</a> needed to get the Panther installer to work.

<li>There are a couple of audio-related problems on the 7300 - 9600 series. The <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1762">global sound volume preference</a> is not adjustable, and <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1256">audio in</a> is generally not working. Note that version 3.1a1 includes a new driver which partly fixes both these problems (there are still some issues with audio in).

<li>The video in/out on the <a href="http://bugzilla.opendarwin.org/show_bug.cgi?id=1914">Beige G3 A/V personality cards</a> is not working.

<li>The RCA video on the 7600 / 8600 etc. is not working -- both <a href="http://bugzilla.opendarwin.org/show_bug.cgi?id=1913">video in (planb)</a> and <a href="http://bugzilla.opendarwin.org/show_bug.cgi?id=1912">video out (sixty6)</a>.

<li>Some <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1123">SCSI scanners are not working</a> when attached to the 7300 - 9600 series.

<li>System sleep is not working properly on the <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1915">7300 - 9600 series</a>, or on the <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1916">original Powerbook G3 (Kanga)</a>. However, it is working on the Beige G3s and Wallstreet Powerbooks.

<li>In some configurations, <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1917">audio output stutters or fails</a> when an ATA/100 or ATA/133 card is in use. However, this does not affect everyone consistently. It is possible that the new audio driver in 3.1a1 will make a difference with this problem.

<li>The <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1918">floppy drive</a> does not work.

<li>The ethernet port on <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1596">ethernet-only Kangas</a> (original Powerbook G3) is not working. (However, the combo modem-ethernet port is working). 

<li>Mac OS X 10.2 (and later) <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=854">require a G3 or G4 CPU upgrade</a> on models that did not originally come with a G3 or G4. Note that version 3.1a1 includes a modification to BootX which should permit 10.2 to work with the 603 and 604 CPUs (but not 10.3).

<li>Volumes <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1919">partitioned in Mac OS X</a> are not bootable on older machines -- the utilities that work are Apple's Drive Setup (in Mac OS 9.x) and Intech's Hard Disk SpeedTools.

<li>Some PCI video cards which were working in Jaguar are <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1938">no longer working in Panther</a>. In some cases, the "Use old NDRVs" option can help, but in other cases it does not. 

<li>I have not <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=936">tested XPF with Darwin</a> lately, and problems have been reported with the installation. This is partially fixed in 3.0b2, but not fully.

<li>XPostFacto gets confused by volumes with <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=899">identical creation dates and sizes</a>. This is partially fixed in version 3.0b2.

<li>XPF tries to detect whether you formatted your disk with Apple's Drive Setup or Intech's Hard Disk SpeedTools, but sometimes will <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=2092">generate a spurious warning</a> (i.e. warning that you should use Hard Disk SpeedTools when you already have).

</ul>

<p><hr>

<h3>Table of Contents</h3>

<ul>
<p><li><a href="#whatisxpostfacto">What is XPostFacto?</a>
<p><li><a href="#preparing">Preparing to use XPostFacto</a>
	<ul>
	<li><a href="#machine">You need a machine that XPostFacto works with</a>
	<li><a href="#macos9">You need to have at least Mac OS 9.0 installed</a>
	<li><a href="#RAM">You need sufficient RAM to run Mac OS X</a>
	<li><a href="#space">You need sufficient disk space to install Mac OS X</a>
	<li><a href="#format">You need a disk that was formatted with Apple's Drive Setup or Intech's Hard Disk SpeedTools</a>
	<li><a href="#partition">You need to choose a partition strategy</a>
	<li><a href="#backup">You need to think about your backup strategy</a>
	<li><a href="#peripherals">You need to review your PCI cards and other peripherals for compatibility</a>
	<li><a href="#CD">You need the Mac OS X Install CD</a>
	</ul>
<p><li><a href="#whatworks">What Works and What Doesn't Work</a>
	<ul>
	<li><a href="#macosx">Mac OS X Versions</a>
	<li><a href="#cpus">CPUs</a>
	<li><a href="#floppy">Floppy Drive</a>
	<li><a href="#sound">Sound and Video</a>
	<li><a href="#adb">ADB Keyboard and Mouse</a>
	<li><a href="#SCSI">Internal and External SCSI</a>
	<li><a href="#SerialPorts">Serial Ports</a>
	<li><a href="#Ethernet">Ethernet</a>
	<li><a href="#InternalModem">Internal Modem</a>
	<li><a href="#Sleep">Sleep</a>
	<li><a href="#PCCards">PCMCIA Cards and Cardbus Cards</a>
	</ul>
<p><li><a href="#enough">Enough, already! How do I use XPostFacto?</a>
	<ul>
	<li><a href="#install">Installing XPostFacto</a>
	<li><a href="#first">Installing Mac OS X</a>
	<li><a href="#switching">Switching between Mac OS 9 and Mac OS X</a>
	<li><a href="#UpgradingXPostFacto">Upgrading from a Previous Version of XPostFacto</a>
	<li><a href="#tenpointone">Upgrading Mac OS X</a>
	<li><a href="#customCD">Creating a Custom Install CD</a>
	<li><a href="#advanced">Advanced Options</a>
	<li><a href="#firewire">Firewire Booting and Helper Disks</a>
	<li><a href="#cache">Cache Menu</a>
	</ul>
<p><li><a href="#troubleshooting">Troubleshooting</a>
	<ul>
	<li><a href="#forum">Consult the Tech Forum</a>
	<li><a href="#nostartup">If Mac OS X will not boot successfully ...</a>
	<li><a href="#diagnosis">Diagnosing the problem</a>
		<ul>
		<li><a href="#noboot">If you cannot successfully boot</a>
		<li><a href="#early">If you do not get any text in verbose mode</a>
		<li><a href="#stillblank">If you still get no text in verbose mode</a>
		<li><a href="#text">If you do get text in verbose mode</a>
		<li><a href="#panic">If you get a kernel panic</a>
		<li><a href="#Installer">If you get as far as the Mac OS X Installer and then have problems</a>
		</ul>
	<li><a href="#Log">The XPostFacto Log</a>
	<li><a href="#Debug">The "Debug" Menu</a>
	</ul>

<p><li><a href="#source">Source Code</a>
<li><a href="#credits">Credits</a>
<li><a href="#license">License</a>
<li><a href="#links">Version History</a>
</ul>

<p><hr>

<h2><a name="whatis">What is XPostFacto?</a></h2>

<p>XPostFacto is an application which helps install and boot Mac OS X, Mac OS X Server, and Darwin on certain unsupported systems. Instead of double-clicking the "Install Mac OS X" application on the Install CD, you run XPostFacto, and it takes care of all the work needed to get the Mac OS X Installer to run. Once you have Mac OS X installed, you also use XPostFacto to switch between Mac OS X and Mac OS 9.

<p>Generally speaking, what XPostFacto does is the following:

<ul>
<p>
<li>Installs the kernel extensions needed for Mac OS X to run on unsupported systems.
<li>Installs a startup item.
<li>Installs a modified version of BootX.
<li>Installs an NVRAM patch.
<li>Figures out the NVRAM settings required to boot or install.
<li>Tells the computer to restart.
</ul>

<h2><a name="preparing">Preparing to use XPostFacto</a></h2>

<p>Here is a checklist of things to consider before attempting to install Mac OS X with XPostFacto.

<dl>
<dt><p><b><a name="machine">You need a machine that XPostFacto works with</a></b>
<dd>
<p>XPostFacto works with some unsupported machines, but not all of them. Here are the machines that XPostFacto can work with:

<ul>
<p><li><b>The PowerSurge models</b>
<p>These are the 7300, 7500, 7600, 8500, 8600, 9500, and 9600, as well as the clones that were based on one of these systems (the Umax S900 and J700, the PowerComputing PowerWave and PowerTower Pro,  and the Daystar Genesis and Millennium, among others).

<p><li><b>The Beige G3s and Wallstreet Powerbooks</b>
<p>The Beige G3s and Wallstreet Powerbooks were supported by Apple in Mac OS X 10.0 through 10.2, but are no longer supported in 10.3 (Panther). However, XPostFacto can get these models working in Panther. There are some video-related issues in some configurations -- see the <a href="#problems">known problems</a> section.

<p><li><b>Certain Other Powerbooks</b>
<p>These are the original Powerbook G3, the 2400 and the 3400. However, there are significant limitations in the support for these machines. The most serious limitation is that sleep does not work. On some models, the built-in ethernet connection also does not work. There are additional details below.

<p>I should warn potential users that Mac OS X is pretty slow on the 2400 and 3400. Also, the original 603e CPU is only supported in Mac OS X 10.0 and 10.1.  

<p>The original Powerbook G3 (Kanga) is working with Panther now -- the main limitation is that the video support is limited to 256-colour mode at the moment (I will be working on 16-bit support). Also, there may be a problem with PC Cards in Panther.
</ul> 

<p>Support for other models may be possible in the future. Some users have  had success with some of the "Catalyst" machines (in particular, the PowerCenter and PowerCenter Pro). At least on some of these machines, the onboard video is not working, so a video card is required. Also, some progress has been made with the Alchemy and Gazelle (the 6400 and 6500), but they are not working reliably yet.  

<p>The basic requirement for Mac OS X to ever work on a machine is that it have a PowerPC processor, a PCI bus, and Open Firmware. So the earliest PowerPC computers from Apple (e.g. the 6100, 7100, and 8100) are not likely to ever work with Mac OS X.

<dt><p><b><a name="macos9">You need to have at least Mac OS 9.0 installed</a></b>

<dd><p>XPostFacto does not run in Mac OS 8, so you need to have at least Mac OS 9.0 installed to use it. XPostFacto will run in Mac OS 9.0, 9.1 or 9.2. (It requires Mac OS 9.x in order to be able to copy files with long filenames from the Mac OS X Install CD to your hard drive).

<p>If you do not already have Mac OS 9.x installed, the problem is that Mac OS 9.2 does not ordinarily work on older machines, and it is not so easy to buy Mac OS 9.0 or 9.1 anymore. There are some <a href="http://eshop.macsales.com/OSXCenter/OS9Helper/framework.cfm?topic=32">procedures available for installing 9.2</a> if you need to do that.

<p>Version 3.0 of XPostFacto will also run in Mac OS X.

<dt><p><b><a name="RAM">You need sufficient RAM to run Mac OS X</a></b>
<dd>
<p>Apple recommends a minimum of 128 MB of RAM to run Mac OS X. But more is better, especially if you are planning to make use of the Classic environment to run Mac OS 9. I would suggest at least 256 MB. If RAM is tight, it is technically possible to install Mac OS X in as little as 96 MB, but it is not a good idea.

<p>Mac OS X is pickier about RAM than Mac OS 9 was, so there are cases in which RAM that worked in Mac OS 9 causes problems in Mac OS X.
 
<dt><p><b><a name="space">You need sufficient disk space to install Mac OS X</a></b>
<dd>
<p>The bare minimum space required for installing Mac OS X is about 1.5 GB. However, a more realistic minimum is 2 GB. And more is better, depending on how much space your applications and data are likely to need.

<dt><p><b><a name="format">You need a disk that was formatted with Apple's Drive Setup or Intech's Hard Disk SpeedTools</a></b>
<dd>
<p>In order to boot Mac OS X on older machines, the disk you are using to boot from must have been formatted with Apple's Drive Setup or Intech's <a href="http://www.IntechUSA.com/">Hard Disk SpeedTools</a>. Disks formatted with other formatting utilities generally are not bootable on older machines with Mac OS X. (The symptom is that when you try to reboot, you will end up back in Mac OS 9 instead of Mac OS X). If you are using Intech's Hard Disk SpeedTools, make sure that you have upgraded to the most recent version, as previous versions had some difficulty with the Mac OS X Installer. 

<p>Once you have Mac OS X installed, it is possible to use the Mac OS X Disk Utility to format disks. However, those disks do not appear to be bootable on older machines, even if you check the "Install Mac OS 9 Drivers" checkbox. So it seems best to use the Mac OS 9.x version of Drive Setup to format drives instead.

<p>One exception is Firewire drives, which can be formatted in Mac OS X. (The reason is that XPostFacto uses a "helper" drive for the first part of the boot process when booting from Firewire drives).

<dt><p><b><a name="partition">You need to choose a partition strategy</a></b>
<dd>
<p>The ideal strategy for installing Mac OS X is to have three separate partitions: one for Mac OS X, one for Mac OS 9.1, and one for Classic. These partitions can be on the same disk or on separate disks--it does not matter.

<p>The advantage of having Mac OS X on a separate partition from Mac OS 9.1 is that you can install Mac OS X without touching your current installation. This provides some peace of mind, in case anything should go wrong when installing Mac OS X.

<p>It is possible to install Mac OS X on the same partition as Mac OS 9. However, the Mac OS X Installer will "bless" the Mac OS X installation, which "de-blesses" the Mac OS 9 System Folder. The Mac OS 9 System Folder can be re-blessed (most easily with the Startup Disk preference panel in the Mac OS X System Preferences application), but that process can become tricky in situations where Mac OS X does not boot correctly after the first install. (There are some troubleshooting suggestions below if you find yourself in this situation).

<p>The advantage of having Mac OS 9.1 on a separate partition from Classic is that certain extensions and control panels are problematic in Classic (or simply not needed). Having a separate partition permits you to do a bare-bones install with only the things actually needed for Classic, and still have another partition to use when you want to reboot into Mac OS 9.x. The other advantage is that it is possible to install and use Mac OS 9.2 for Classic, even though it will not be bootable apart from Classic.

<p>It is possible to use the same partition for your bootable Mac OS 9.1 and for Classic. If you do that, then you will need to remove any problematic extensions or control panels. Alternatively, you can use the Classic preferences in Mac OS X to disable some extensions or control panels when using Classic.

<p>So if you have three partitions available, it is ideal to use one for Mac OS X, one for Mac OS 9.x, and one for Classic. If you have two partitions, then Classic and Mac OS X can coexist on the same partition. And if you have only one partition, then everything can coexist together, with some disadvantages. (Of course, the size of the partitions available to you will also influence your strategy).

<p>If you are installing onto an ATA drive, there are some cases in which you must install onto a partition that is entirely within the first 8 GB of the drive. The Mac OS X Installer enforces this limit, so if you are unable to select your desired partition, that may be the reason.

<dt><p><b><a name="backup">You need to think about your backup strategy</a></b>
<dd>
<p>It is a good idea to backup your data before attempting a major installation, and doubly so before attempting something that Apple does not support! So you should consider whether you have a good backup system in place at the moment. (You could also consider what backup system you will use once Mac OS X is installed. One option is to copy drives with a utility such as <a href="http://www.bombich.com/software/index.html">Carbon Copy Cloner</a>--using a Firewire drive for this purpose can be handy. And Retrospect now has a Mac OS X compatible version, for more sophisticated backups).

<dt><p><b><a name="peripherals">You need to review your PCI cards and other peripherals for compatibility</a></b>
<dd>
<p>Compatibility is a large subject--you can consult my <a href="http://eshop.macsales.com/OSXCenter/XPostFacto/framework.cfm?page=Compatibility.html">compatibility page</a> for a longer (though still very incomplete) discussion. Here I will briefly discuss a few issues that sometimes prevent a successful install.

<ul>
<p><li><b>Video cards</b>
<p>Some video cards are problematic in Mac OS X. Check the <a href="http://eshop.macsales.com/OSXCenter/XPostFacto/framework.cfm?page=Compatibility.html">compatibility page</a> for details. In Mac OS X 10.3, sometimes the "Use old NDRVs" option in XPostFacto can help.

<p><li><b>CD-ROM devices</b>
<p>Some older CD-ROM devices do not work with Mac OS X. The symptom that you will get in this case is the message "still waiting for root device" when booting in verbose mode (with command-v held down at startup).

</ul>

<dt><p><b><a name="CD">You need the Mac OS X Install CD</a></b>
<dd>
<p>I almost forgot to mention this one! You can use XPostFacto to install Mac OS X, Mac OS X Server, or Darwin. But you do need the Install CD.

</dl>

<hr>

<h2><a name="whatworks">What Works and What Doesn't Work</a></h2>

<p>Here is a quick survey of what works and what doesn't work on the machines that XPostFacto supports. For information about the compatibility of peripheral devices, check the <a href="http://eshop.macsales.com/OSXCenter/XPostFacto/framework.cfm?page=Compatibility.html">compatibility page</a>. 

<dl>
<dt><p><b><a name="macosx">Mac OS X Versions</a></b>

<dd><p>XPostFacto 3 should work with Mac OS X 10.0 through 10.3, but testing with 10.0 and 10.1 has been limited. One limitation is that XPF 3 will not launch in Mac OS X 10.0 (but you can launch it from Mac OS 9 to install Mac OS X 10.0).

<dt><p><b><a name="cpus">CPUs</a></b>
<dd><p>Mac OS X does not work with a 601 CPU. Therefore, if you have a 7500 with the original 601 processor, you will need to install a CPU upgrade before installing Mac OS X. 

<P>Mac OS X 10.2 (and later) does not work with a 603 or 604 CPU either. I have done some work to try to fix this, but it seems unlikely that this problem will be solved. The workaround is to install a G3 or G4 upgrade card.

<p>If you install a G3 or a G4 upgrade, you will need some software to enable the L2 cache in Mac OS X. The forum contains a <a href="http://forum.macsales.com/viewtopic.php?t=1766">HOWTO on L2 cache software</a>.

<p>XPF 3.0 includes OWCCacheConfig, which attempts to automatically detect and configure L2 and L3 cache when you boot into Mac OS X, including when you boot from the CD to install. You can control whether OWCCacheConfig is installed using the "Enable L2/L3 Cache" option in XPostFacto. Unfortunately, OWCCacheConfig is causing problems for a fair number of users so far, so XPF is now defaulting to have it turned off, rather than on. You can turn it on if you want to test it.

<p>The 9500MP and 9600MP work, but only one processor is active.

<dt><p><b><a name="floppy">Floppy Drive</a></b>
<dd><p>Mac OS X does not come with support for the floppy drive. Some work has been done (by others) on an open-source driver, but it hasn't been updated for a while and I'm told that it's not working well at this point. Your best bet if you really need a floppy drive is to look at a USB-based drive.

<dt><p><b><a name="sound">Sound and Video</a></b>
<dd><p>Sound out works. However, it is not possible to change the volume globally (you can change the volume in applications such as iTunes). There are some cases in which users report trouble with sound out after intensive disk access. The exact cause has been difficult to track down, but is probably related to the PCI bus in some way.

<p>Sound in does not work yet (at least, for most people -- there are cases where it does).

<p>Video in and out does not work yet (on those models that have it--the 7600 and 8600, I believe).

<dt><p><b><a name="adb">ADB Keyboard and Mouse</a></b>
<dd><p>ADB keyboards and mice generally work. If you are tempted to replace them with a USB keyboard and mouse, it is useful to keep your ADB keyboard and mouse around. This is because the boot-time key combinations only work on ADB keyboards, and the built-in support for ADB comes in handy sometimes if you run into trouble.

<dt><p><b><a name="SCSI">Internal and External SCSI</a></b>
<dd><p>The internal and external SCSI bus both work. However, there are some users who have trouble with the internal SCSI bus. One thing that you need to double-check is that your SCSI termination is correct, because Mac OS X is picky about that. In general, Mac OS X is sensitive to timing issues on the SCSI bus. Sometimes removing unnecessary devices helps. Also, you will sometimes need to adjust the jumper settings on drives connected to the internal bus, to make sure that they spin up automatically at boot time (the "Disable Unit Attention" jumper is one that sometimes needs to be changed).

<dt><p><b><a name="SerialPorts">Serial Ports</a></b>
<dd><p>The serial ports generally work, though not all serial devices are supported. Some modems work, but serial printers are not supported. Localtalk does not work in Mac OS X (i.e. Appletalk over the printer port). However, you can get localtalk-to-ethernet adapters.

<dt><p><b><a name="Ethernet">Ethernet</a></b>
<dd><p>The built-in ethernet connection generally works. One exception is the original Powerbook G3 (Kanga) with an Ethernet-only connection. That does not work, but the combo Ethernet-Modem connections do work (at least for ethernet).

<dt><p><b><a name="InternalModem">Internal Modem</a></b>
<dd><p>I have not tested the internal modem in the Powerbooks--I suppose I should!

<dt><p><b><a name="Sleep">Sleep</a></b>
<dd><p>Display sleep and disk sleep appear to be working well. System sleep works on the models which Apple supported in Mac OS 10.0 through 10.2 (i.e. the Beige G3's and the Wallstreet Powerbooks). On the machines that Apple did not support, sleep is not working yet. XPostFacto will automatically set the system sleep preference to "never" on those machines.

<dt><p><b><a name="PCCards">PCMCIA Cards and Cardbus Cards</a></b>
<dd><p>PCMCIA cards appear not to work in the Powerbooks. However, some CardBus cards do seem to work. 

</dl>

<hr>

<h2><a name="enough">Enough, already! How do I use XPostFacto?</a></h2>

<p>So, you have reviewed the checklist of things you need before using XPostFacto, and you have some idea of what works and what doesn't. Now, you ask, how do I actually go about using XPostFacto?

<h3><a name="install">Installing XPostFacto</a></h3>

To install XPostFacto, just copy it to a convenient location on your hard drive. You do not need to put it in a special location.

<h3><a name="first">Installing Mac OS X</a></h3>

<p>Let me emphasize one last time that you need to be cautious when doing a major installation of this kind. Installing Mac OS X has worked very easily and reliably for some, while others have had significant problems that have not always been readily explained. There have been cases in which installing Mac OS X has been unsuccessful, and the computer has failed to boot at all--it appears to be "dead." If you read the <a href="http://forum.macsales.com/">tech forum</a>, you will see that there has been some vigorous debate about whether the computer is ever "really" dead--in almost all cases, it has been possible to get it to boot again (in fact, it may be "all cases", but sometimes it takes significant effort). But there are a handful of users who have either given up or come very close to it. 

<p>So you should ask yourself two final questions: 

<p>
<ul>
<li>Is my data backed up?
<li>If something goes wrong, do I have time to troubleshoot it right now?
</ul>

<p>Then take a deep breath, and follow the following procedure:

<ul>
<li>Insert  the Mac OS X Install CD (or Darwin, or Mac OS X Server, as the case may be)
<li>Launch XPostFacto
<li>Select the target volume that you want to install Mac OS X to
<li>Select the Install CD you want to use
<li>Click on the "Install" button
<li>Sit back and watch the action
</ul>

<p>XPostFacto will copy some kernel extensions to the target volume. Then it installs a modified version of BootX that will use these kernel extensions (along with the standard extensions on the CD). Then it will restart the computer. 

<p>The Mac OS X Installer runs in Mac OS X, so you will be booting into Mac OS X at this stage. It can take a few minutes, so you need to be a little patient. It is possible for the installation to fail at this point, either with an explicit error message, or a rainbow cursor that spins forever, or by rebooting into Mac OS 9, or just a blank screen. See the troubleshooting tips below if this happens to you.

<p>You will be booting in verbose mode at this point, so you will see a variety of messages on the screen. It may seem to pause for a minute or two at times. If nothing happens for several minutes after that, then there may be a problem. In order to see additional messages from the earliest part of the boot process, you can hold down command-v as the computer reboots.

<p>When you reach the Mac OS X Installer, select the target volume again (make sure to select the same one). Do not reformat the target volume at this point, as we need to keep the files that we have already copied there. Follow the rest of the Installer's instructions as usual. 

<p>Once you have finished installing Mac OS X, the installer will reboot your system. One thing to note is that if you are using a "helper" disk (for instance, where your target is a Firewire drive), you will probably reboot into Mac OS 9 after the install is completed, rather than Mac OS X. At this point, you simply need to run XPostFacto again, select your target volume, and click on "Restart". That will set up the special boot process correctly again.

<p>Also, if you have chosen to "Erase and Install" or an "Archive Install", then the kernel extensions pre-installed by XPostFacto will have been moved or erased. In that situation, you can reboot into Mac OS 9, and then use XPostFacto to boot from your new Mac OS X installation (it will re-install the missing extensions).

<h3><a name="switching">Switching between Mac OS 9 and Mac OS X</a></h3>

Once you have installed Mac OS X, you may want to reboot into Mac OS 9 at some point. One way to do this is to hold down the option-key while restarting. However, it sometimes happens that when you install Mac OS X, your Mac OS 9 System Folder becomes "unblessed." In this case, you can use the "Startup Disk" panel in the Mac OS X "System Preferences" application. This will re-bless the System Folder and permit you to reboot into Mac OS 9.<p>

After you reboot into Mac OS 9, you can use XPostFacto to return to Mac OS X. Simply select the desired startup volume and press the restart button. XPF will write the required settings to non-volatile RAM (NVRAM), and restart the computer. (Restarting from the Finder is not affected by your selection here.<p>

<p>You can now use XPF to choose whether to boot from Mac OS 9 or Mac OS X (via the options in the main XPF window). If you choose Mac OS 9, you'll boot from whichever Mac OS 9 disk you last booted from. It isn't possible to select a specific Mac OS 9 disk to boot from.

<h3><a name="UpgradingXPostFacto">Upgrading from a Previous Version of XPostFacto</a></h3>

If you are upgrading from a previous version of XPostFacto, all you need to do is launch the new version, and it will check to see what needs to be installed. You can do this in Mac OS X or in Mac OS 9.<p>

<h3><a name="tenpointone">Upgrading Mac OS X</a></h3>

<p>To upgrade to a new major version of Mac OS X (i.e. 10.1 to 10.2, or 10.2 to 10.3), you follow the same steps listed above. The procedure is the same whether you are upgrading or doing a fresh install--in both cases, you need to boot from the Mac OS X Install CD, so you need to use XPostFacto's special install procedure.

<p>For the minor Mac OS X upgrades (e.g. from 10.1 to 10.1.5), you can use the 'Software Updates' mechanism or the downloadable installers as usual--they have, so far, worked without XPostFacto's help.

<h3><a name="customCD">Booting from other CDs</a></h3>

Version 3 of XPostFacto should permit you to boot from any CD that would boot a supported system (for instance, the recovery CDs that some file and backup utilities include).

<h3><a name="advanced">Advanced Options</a></h3>

The "Options" button will bring up a dialog that allows you to select various advanced options which affect the NVRAM settings used for rebooting with XPostFacto. The help text in that window explains the effect of the settings.<p>

<h3><a name="firewire">Firewire Booting and Helper Disks</a></h3>

<p>XPF 3 includes a "helper disk" option which is meant to permit booting from certain devices which would not otherwise be bootable (in particular, Firewire drives). The problem with booting from Firewire drives on older machines is that the firmware on those machines does not know how to access Firewire. XPF 3 solves that problem by copying system files from the Firewire drive to a "helper" drive. XPF then sets up the boot process so that it starts from the "helper", and then switches to the Firewire drive once enough of the system has loaded so that Firewire is accessible.

<p>The system files copied to the helper drive are stored in a special location on the helper, so they do not interfere with any system that is installed on the helper itself.

<p>The trickiest part of this process is that the system files on the Firewire drive and the helper need to stay synchronized. That is, if you make changes to the system files on the Firewire drive, XPF needs to copy those changes to the helper. XPF installs a startup item which periodically checks to see whether synchronization is required (for instance, whether you've installed a software update or a new kernel extension). The startup item pops up a message telling you when synchronization is required. At that point, you should wait for the installation process to complete, and then launch XPostFacto. When you launch XPostFacto, you'll see that you are now setup to boot in Mac OS 9 instead of Mac OS X. The purposes of this is to make sure that you don't reboot in Mac OS X without synchronizing first. So, all you need to do at this point is use XPF to switch back to booting from Mac OS X, and XPF will take care of the required synchronization.

<p>Depending on what you're installing, there are cases in which you can't launch applications after installing (until you restart). In that case, you'll restart in Mac OS 9, and you can use XPostFacto to get back to Mac OS X (it will do the required synchronization along the way).

<p>The helper mechanism appears to be working well when you don't really need it (for instance, when I test it with two SCSI drives). It is still problematic, though, when booting from Firewire drives. It appears that there is often (but not always) a problem reading from Firewire drives when they are used as the root disk. This is an area that needs more testing.

<h3><a name="cache">The Cache Menu</a></h3>

<p>The "Cache" menu in XPostFacto allows you to control the files which XPF copies, either as part of the install procedure, or when using a "helper" disk. You can empty the cache with the "Empty Cache" command. This will save some disk space after an install. Of course, if you are using a "helper" drive, XPF will have to recopy some of those files (it will know to do that when you quit).

<p>If you have had a "permissions" error when trying to perform an installation, then using the "Check Permissions" command should solve it.

<p><hr>

<h2><a name="troubleshooting">Troubleshooting</a></h2>

<p>Here are some tips you can use if you run into trouble.

<h3><a name="forum">Consult the Tech Forum</a></h3>

<p>The most important tip is to consult the <a href="http://forum.macsales.com/">tech forum</a> -- it is an extremely useful resource.

<h3><a name="nostartup">If Mac OS X will not boot successfully ...</a></h3>

If Mac OS X will not boot successfully, you are going to want to reboot into Mac OS 9. Here are some ways to do that. None of these will solve your primary problem (i.e. they won't make Mac OS X boot any more successfully), but at least they will get you back to Mac OS 9 again.

<p><ul>
<li>Reboot with the option-key down. This should return you to Mac OS 9. The timing of holding the option-key down is sometimes a little tricky -- you may need to experiment a little, or in some cases you may need to tap the option-key repeatedly to get the timing right (in other cases, you can just hold it down).<p>

<li>If that does not work, reboot with command-option-shift-delete held down.<p>

<li>If that does not work, you can try inserting the Mac OS 9 CD and booting with the "c" key down.<p>

<li>If that does not work, and you are using a G4 upgrade card, you could try booting from the "emergency floppy" that most of the card manufacturers include with the card. (This will help if speculative processing is the issue). Alternatively, you can try reinstalling your original CPU card.<p>

<li>If that does not work, you may need to zap your parameter RAM. The simplest way of doing this is to hold down the command-option-p-r keys while rebooting. The computer will "chime" while it zaps parameter RAM. Allow it to chime several times, and then release the keys. Sometimes doing this from a "cold-start" (i.e. after power has been off) is more successful than a "warm-start" (i.e. by pressing command-control-powerkey to reboot). Also, the timing of pressing comand-option-p-r can sometimes make a difference -- sometimes you have to try a couple of times before you get the timing right.<p>

<li>If this does not work, then you may need to press the CUDA reset button on the motherboard for 30 seconds. The CUDA reset button is a small red button usually located near the processor card. <p>

<li>If that does not work, you may need to unplug the computer, remove the motherboard battery, and leave it out for some time. Then reinstall the battery (and make sure to orient it correctly). The amount of time required varies--sometimes it can be as little as few hours, but in other cases you may need to leave it overnight.<p>

<li>It that does not work, it sometimes helps to install a new battery, and try the "zapping parameter RAM" or "pressing CUDA reset button" steps again.

<li>Sometimes it helps to temporarily replace the video card with an older video card (or simply remove it temporarily and use built-in video).

<li>Sometimes it helps to rearrange PCI cards or memory chips.
</ul>

<p>If you have installed Mac OS X on the same partition as Mac OS 9, rebooting with the option-key down may not work, because the Mac OS X installation process "de-blesses" the Mac OS 9 System Folder. In those cases, you can reboot from the Mac OS 9 CD with the "c" key held down, and take steps to "re-bless" the Mac OS 9 System Folder. The simplest method is to drag the System or Finder file to the desktop and then back into the System Folder. If that doesn't work, one user suggests command-option-double-clicking on the Finder file (I have not tried that yet). Also, you could check to see whether the /System/Library/CoreServices folder has been blessed by the Mac OS X Installer. In that case, you could de-bless that folder by dragging out the fake System file located there. You should then be able to re-bless your Mac OS 9 System Folder. Also, the XPostFacto application now has a menu command to rebless the Mac OS 9 System folder on a volume.

<h3><a name="diagnosis">Diagnosing the problem</a></h3>

<p>Here are some steps you can take to diagnose problems.

<p><b><a name="noboot">If you cannot successfully boot</a></b>, then the most important thing is to try booting in verbose mode. Hold down command-v as the computer restarts, and note any error messages which appear.

<p><b><a name="early">If you do not get any text in verbose mode</a></b>, you can use the  'Open Firmware' settings in the "Options" dialog to diagnose the earliest part of the boot process. The items in that dialog have the following meanings:

<blockquote>
<dl>
<dt><p>auto-boot?
<dd>When this is selected (the default setting), your computer will boot in the ordinary way. When it is unselected, the computer will stop at the Open Firmware prompt when you boot. If you have no idea what the Open Firmware prompt is, you should leave this checked. If you do uncheck it, make sure that you set up the input-device and output-device. (XPF 3 now enforces this).

<dt><p>input-device
<dd>This is the device that will provide input at the Open Firmware prompt (should you stop there). Generally, you will want this to be the keyboard, but you can choose the modem or printer port as well.

<dt><p>output-device
<dd>This is the device that will receive output at the Open Firmware prompt. Generally, you will want this to be the built-in monitor, or a video card. You can also choose the modem or printer port.
</dl>
</blockquote>

<p>By selecting an input-device and output-device, and then holding down command-v as the computer restarts, you will get additional diagnostic messages earlier in the boot process.

<p><b><a name="stillblank">If you still get no text in verbose mode</a></b>, then there are a couple of things you can try. 

<p>If you have a G3 or G4 upgrade card, you can try adjusting the "Throttle" setting (again, in the "Options" dialog). The "throttle" menu allows you to adjust the speed of your G3 or G4 upgrade card during the earliest part of the boot process. For some users, this solves a problem booting from certain SCSI devices. Once the earliest part of the boot process is complete, the processor will be reset to its full speed.

<p>The higher the throttle setting, the slower the processor is during the early boot process. Several users have reported that a setting of 4 or higher allows them to boot on certain problematic drives, while 3 or less fails.

<p>You can also try adjusting the clock speed or bus speed of your CPU upgrade.

<p>Sometimes, problems booting have to do with RAM. It is sometimes best to de-interleave RAM, especially with CPU upgrades. You do this by making sure that matching DIMM slots do not have matching memory modules. Also, there are occasions where a particular DIMM which works in Mac OS 9 is problematic in Mac OS X. So you can try swapping out DIMMs to see if you can isolate a problematic one.

<p><b><a name="text">If you do get text in verbose mode</a></b>, then note any error messages, and note what the last messages are before the process grinds to a halt. If the last messages are a repeated "Still waiting for root device", then it means that Mac OS X is having some trouble with your CD-ROM device.

<p><b><a name="panic">If you get a kernel panic</a></b>, then the best thing is to take a picture of your screen with a digital camera, post the picture on the web somewhere, and then post a link the tech forum (or send me an e-mail, but the tech forum is faster). If you don't have a digital camera, then copy down all the information and type it up. (It is tedious, but there is no better way yet--I do have some ideas for how to save the panic information automatically).

<p>One useful troubleshooting measure, especially for kernel panics, is to remove any unnecessary PCI cards and try again. If that works, you can add cards back in until you have figured out which one is causing trouble.

<p><b><a name="Installer">If you get as far as the Mac OS X Installer and then have problems</a></b>, there are a couple of possibilities. 

<p>If you get random freezes (that is, the cursor stops moving and you get no error message of any kind), then the most common reason is trouble with your RAM. You can try swapping out DIMMs and see whether you can isolate a problematic one. (There are cases where DIMMs which are fine in Mac OS 9 are problematic in Mac OS X).

<p>If you get an error message about not being able to write a file, or read a file, then I am not entirely sure what the problem is. In some cases, using a different install CD helps. In some cases, reformatting the target volume helps. But there are cases where this problem goes unsolved.

<h3><a name="Log">The XPostFacto Log</a></h3>

<p>XPF generates a log file that sometimes helps me figure out what is going wrong. The file is called "XPostFacto Log" and it is located in the Preferences folder, inside your System Folder. If you are running XPF in Mac OS X, then it writes its log messages to the system log, located at /var/log/system.log

<h3><a name="Debug">The "Debug" Options</a></h3>

XPostFacto has some "Debug" options that allows you to take advantage of certain debugging features present in the Mac OS X kernel. This is only useful if you know what these options mean. So if you do not understand what they are, simply leave them unselected.

<p>If you are getting kernel panics with the multilingual text screen that tells you that you need to reboot, you might want to turn on the "See panic text" option. This will show you the traditional panic text instead, which can be helpful for figuring out what is causing the panic.

<p><hr>
<h2><a name="source">Source Code</a></h2>

XPostFacto is an open-source application. For information about the source code, consult the XPostFacto page at <a href="http://www.opendarwin.org/projects/XPostFacto/">opendarwin.org</a>. There is also a Bugzilla database there which can be used to report and track bugs in XPostFacto.

<p><hr>

<h2><a name="credits">Credits</a></h2>

Great credit is due to the Darwin project and all those involved in it. The code in many of the kernel extensions installed by XPostFacto is derived from Darwin, with a few bug fixes here and there. Josh de Cesare deserves particular credit for his work on platform support. Dan Markarian and Chris Sarcone helped with the CD audio problem in Mac OS X 10.0. I would also like to thank Markus Hitter for debugging tips (and for being a good sounding board), as well as Marc St-Jean for help with testing, and general encouragement. Finally, I would like to thank Kyle Kost and Will Schoumaker for their work on clone support.<p>

XPF makes use of the zlib compression library, for which I wish to thank Jean-loup Gailly and Mark Adler.<p>

<a href="http://www.elgato.com">El-Gato Software</a> contributed a bug fix that helps support additional SCSI CD-ROM, CD-R and CD-RW devices.<p>

Joshua Thorpe suggested the new name.<p>

Michel Lanners wrote the Forth code to permit processor throttling in Open Firmware, and Matt Schechtman passed it along to me.<p>

Pierre d'Herbemont has done some terrific work on 6400 support.<p>

Joe van Tunen figured out how to solve the issue with the Radeon 7000 card becoming active only late in the boot process, as well as hardware cursor support for /chaos/control in Jaguar.<p>

Ken Lui did some nice work updating the AppleMaceEthernet driver.<p>

Ben Ralston figured out how to get the AppleScreamerAudio code from Darwin to work on Old World machines.<p>

Peter Caday figured out why Mac OS X 10.2 wouldn't boot on the 603 or 604 CPUs.<p>

I would also like to thank Other World Computing (Larry O'Connor in particular) for their generous support.

<p><hr>

<h2><a name="license">License</a></h2>

BootX and most of the kernel extensions which are installed by XPostFacto are subject to the <a href="http://www.opensource.apple.com/apsl/">Apple Public Source License</a>.<p>

XPostFacto itself is subject to the following license:

<blockquote>

Copyright (c) 2001, 2002, Other World Computing. All rights reserved.<p>

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

<ol>
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer as the first lines of each file.<p>

<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.<p>

<li>Redistributions in binary form must retain the link to Other World Computing's web site in the application's "About Box."
</ol><p>

This software is provided by Other World Computing ``as is'' and any express or implied warranties, including, but not limited to, the implied warranties of merchantability and fitness for a particular purpose are disclaimed. In no event shall Ryan Rempel or Other World Computing be liable for any direct, indirect, incidental, special, exemplary, or consequential damages (including, but not limited to, procurement of substitute goods or services; loss of use, data, or profits; or business interruption) however caused and on any theory of liability, whether in contract, strict liability, or tort (including negligence or otherwise) arising in any way out of the use of this software, even if advised of the possibility of such damage.

</blockquote>

<p>XPostFacto was written with the MacApp Application Framework. (c) 1983-2001 Apple Computer,  Inc. MacApp is a trademark of Apple Computer, Inc., registered in the United States and certain other countries.

<p><hr>

<h2><a name="links">Download Links and Version History</a></h2>

<dl>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.1a3.sitx">3.1a3 (March 28, 2005)</a> (or in the <a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.1a3.sit">older .sit format</a>)

<dd>
<p>Version 3.1a3 makes some changes to the settings which control the stage (in the boot process) at which certain kernel extensions are loaded. The required settings vary depending on whether it is a "normal" boot or an installation from CD. BootX will now notice this and make the necessary adjustments. This will avoid some error messages early in the boot process. I had thought those error messages were harmless, but it seems that it may be a contributing factor in the "black screen" problem on the Beige G3s (the actual mechanism is obscure, but it is possible that these changes may help, at least with some subset of the problem).

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.1a2.sitx">3.1a2 (March 1, 2005)</a> (or in the <a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.1a2.sit">older .sit format</a>)

<dd>
<p>A quick summary of changes in 3.1a2:
<p><ul>
<li>Makes the new audio driver for the 7300 - 9600 series work with Mac OS X 10.2.

<li>Eliminates the (no longer applicable) warning about the 603 and 604 CPU on Mac OS X 10.2.
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.1a1.sitx">3.1a1 (February 15, 2005)</a> (or in the <a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.1a1.sit">older .sit format</a>)

<dd>
<p>A quick summary of changes in 3.1a1:
<p><ul>
<li>Includes a new audio driver for the 7300 - 9600 series that enables volume control, and partly enables audio input (microphones are mostly working, but there appear to problems with line-level inputs). The new driver is also more efficient in some respects than the previous driver. This is courtesy of Ben Ralston's efforts in this area.

<li>Includes modifications to BootX that permit Mac OS X 10.2 to work with 603 and 604 CPUs. (Mac OS X 10.3 still doesn't work unless you have a G3 or G4 upgrade). Peter Caday figured out what the problem in 10.2 was. 

<li>Minor modifications to XPFStartupItem.
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.sitx">3.0 (January 18, 2005)</a> (or in the <a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.sit">older .sit format</a>)

<dd>New icon, and minor changes to preference handling.

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0b12.sitx">3.0b12 (December 6, 2004)</a>

<dd>Better error-checking in the "synchronize" process -- may help diagnose some reported problems.

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0b11.sitx">3.0b11 (November 22, 2004)</a>

<dd>Version 3.0b11 hopefully fixes a problem which sometimes occurs when launching XPostFacto in Mac OS X with network drives mounted.

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0b10.sit">3.0b10 (November 13, 2004)</a>

<dd>Here is a quick summary of what's new in version 3.0b10. I had been hoping that 3.0b9 would be the last beta version before releasing 3.0, but there turned out to be a couple of problems that seemed possible to fix within a reasonable time.

<ul>
<li>Make sure the XPostFacto updates all the <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=2136">kernel extension caches</a> when installing extensions. Also, check for several problems which can affect the caches.

<li>When <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=2360">synchronization fails</a>, set the computer to reboot in Mac OS 9 for safety, and do not proceed with the restart.  

<li>Hopefully fix an error which caused XPF to sometimes stall when an <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=2363">network drive was mounted</a>.

</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0b9.sit">3.0b9 (October 26, 2004)</a>

<dd>Here is a quick summary of what's new in version 3.0b9. I am expecting this to be the last beta version before officially releasing version 3.0. So, I am particularly looking for two kinds of problem reports at the moment: (a) things that used to work in a previous version of XPF but do not work now; and (b) things which do not work and are not sufficiently documented as "known problems."

<ul>
<li>Will now set a <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=2093">default input-device and output-device</a>, unless the user has specifically chosen to have none.

<li>Added a menu command to <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=2328">save the log file</a>.

<li>Show an error message when there is a <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=2329">problem reading from a volume</a>, rather than just leaving it out of the volume list.

<li>Show a warning rather than an error when XPF <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=2090">fails to detect a G3/G4 CPU upgrade</a>, since there had been some cases where XPF was not detecting the CPU type properly.

</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0b8.sit">3.0b8 (August 3, 2004)</a>

<dd>Version 3.0b8 fixes several bugs in 3.0b2. (There were several intermediate versions with limited distribution to help diagnose the bugs).

<ul>
<li>Fixes the problem <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=2081">detecting the Open Firmware name for ATA drives</a> in Mac OS 9.

<li>Fixes a problem which <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=2091">caused version 3.0b2 to crash</a> in Mac OS X.

<li>Hopefully fixes a problem whereby XPF sometimes <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=2090">thinks that a G3/G4 upgrade is required</a>, even though one was already installed. If this continues to be a problem, XPF 3.0b8 writes some log messages which will help diagnose it.

</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0b2.sit">3.0b2 (July 13, 2004)</a>

<dd>Here's a quick summary of what's new in version 3.0b2.

<ul>
<li>XPF will now <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1020">provide warnings</a> about certain conditions which might cause problems -- for instance, the 8 GB limit, volumes formatted in manner that may not be bootable, and missing or corrupt symbolic links.

<li>There is now a <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1019">volume inspector window</a>, which you can access by double-clicking on a entry in XPF's volume list (or by using the Window menu). 

<li>Using the volume inspector window, you can now <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1349">override the ATA bus or SCSI bus</a> that XPF thinks a volume is attached to. The background is that in Mac OS 9, there is no completely deterministic way to match a volume with an ATA bus or SCSI bus -- generally, XPF gets the matching correct, but there are cases where XPF gets it wrong. The volume inspector allows you to manually override XPF's choice (which is indicated as the underlined item in the popup menu). Do let me know about situations in which it is necessary to do this, as it may be possible to fix XPF so that it will choose the correct bus on its own.

<li>XPF now checks whether the <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1769">symbolic links</a> /tmp, /var and /etc have been properly created on a Mac OS X Volume, and gives a warning if problems are detected. In some cases, it is possible to fix those links with the "Fix Symbolic Links" command in the "Install" menu.

<li>XPostFacto now uses <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1983">balloon help (in Mac OS 9) and help tags (in Mac OS X)</a>, rather than the "custom" help mechanism it had been using previously. You can use the checkbox in the lower right corner of the XPF windows to turn help on and off.

<li>XPF handles volumes with <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=899">identical creation dates and sizes</a> better, though some anomalies may still remain.

<li>Updated the code which <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1441">installs BootX</a> and checks whether BootX has been properly installed.

<li>XPF does a better job of <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=936">recognizing Darwin Install CDs</a>. However, further testing with Darwin installs is required.

<li>XPF does a better job of distinguishing volumes with <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=899">identical creation dates and sizes</a>. However, some anomalies may remain.

<li>XPF now keeps track of the preference <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1928">whether to boot into Mac OS 9</a> or Mac OS X. If the current NVRAM setting is inconsistent, then XPF asks the user whether to save the preferred setting.
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0b1.sit">3.0b1 (June 7, 2004)</a>

<dd>Here's a quick summary of what's new in version 3.0b1.

<ul>
<li>Made <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1756">technical changes</a> in the way that XPostFacto makes the install process work on the Beige G3's and Wallstreet Powerbooks.

<li>Incorporated Joe van Tunen's patch to get the <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1813">hardware cursor support</a> working in Jaguar for built-in video on the 7300 etc.

<li>Added power management code to the AppleGrandCentral driver (thanks again to Joe van Tunen), with the result that drives on the internal SCSI bus will now spin down (if you set the Energy Saver prefs for them to do so). 

<li>Added a <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1864">reminder window</a> to remind users to register.

<li>Made the preferences system a little smarter about <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1867">using NVRAM settings</a> in some cases where the NVRAM is not consistent with what is in the prefs file.

<li>Eliminated the "-c" boot-command setting for OWCCacheConfig, as it was not really necessary any longer (since XPF is now installing or deleting OWCCacheConfig, depending on the preference).

<li>Minor change to XPFStartupItem so that it will log the reason why it thinks synchronization is necessary.

<li>Partially fixed the problem using <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=896">Firewire CD-ROM drives</a> from Mac OS 9.

<li>Fixed a problem with retaining the <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=995">helper disk preferences</a> in some circumstances.

<li>Fixed a problem with the <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1892">XPF startup item</a> which sometimes interfered with the install process.

<li>Included a <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1171">new kernel extension (PatchedRagePro.kext)</a> to help with video issues affecting Wallstreet Powerbooks. The new extension is not installed by default -- you can enable it with the "Use PatchedRagePro" option in the Options Window. When enabled, the extension does two things. For video with a device-id of 0x4C50, it activates the ATIRagePro.kext. This is the equivalent of the <a href ="http://www.xlr8yourmac.com/OSX/osx_ragepro_driver_tip.html">Info.plist modification described at XLR8YourMac</a>, except that it doesn't actually modify ATIRagePro.kext. For video with a device-id of 0x4C47, it disables the ATIRageProGA.plugin, which seems to solve a problem with using "thousands" of colours. This is meant to help partly solve the video issues affecting some Wallstreet configurations, though it is not necessarily a complete solution.

<li>Modified the install process so that XPF will <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1171">not delete obsolete kernel extensions</a> that are currently installed until the fresh install has succeeded.

<li>Shows error message if you run XPF on a system that XPF doesn't work with.

<li>Warns user in cases where a <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=854">CPU upgrade is required</a>.

<li>Upgraded the custom BootX version with <a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1911">code from Apple's latest BootX</a> (BootX 59.1.1). This will now use some additional caching techniques, which may speed up the boot process somewhat.

</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0a17.sit">3.0a17 (April 13, 2004)</a>

<dd>Here's a quick summary of what's new in version 3.0a17.

<ul>
<li>Includes OpenChips65550Framebuffer.kext, which is a Panther video driver for Kanga (the original Powerbook G3). So far, only 256 colour mode works properly -- I will work on 16-bit colour support. Panther appears to be mostly working on Kanga now, though there may be issues with PC Cards.

<li>PatchedBlockStorageDriver disables itself if Mac OS X 10.3.3 is installed. It seems that PatchedBlockStorageDriver is no longer necessary with 10.3.3, and it appears to cause problems in some circumstances.

<li>Hopefully the "permissions" error which sometimes affected installation has been solved. If you have been stuck with that error in a previous installation attempt, use the "Check Permissions" command under the new "Cache" menu to fix it.
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0a16.sit">3.0a16 (March 29, 2004)</a>

<dd>Here's a quick summary of what's new in version 3.0a16.

<ul>
<p><li>Experimental Panther support for built-in video on the Beige G3s. Note that it is not well tested yet, so unless you are keen on testing it for me, you should wait a little while for reports to come in.

<p><li>Updated BootX with a few more error messages when things go wrong.
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0a15.sit">3.0a15 (March 25, 2004)</a>

<dd>Here's what's new in version 3.0a15.

<ul>
<p><li>I have (finally) switched to Panther for my day-to-day work, and am now building BootX and the kernel extensions with XCode in Panther. This appears not to have introduced any new problems. See the updated <a href="http://www.opendarwin.org/projects/XPostFacto/DeveloperNotes.html">developer notes</a> if you are building the extensions yourself.

<p><li>BootX has been updated to make use of additional memory in the boot process (it now assumes 96 MB of RAM). I have also modified BootX to provide more useful diagnostic messages when it fails to boot properly.

<p><li>XPF 3 now mostly works with 10.0 and 10.1, as well as 10.2 and 10.3. One remaining limitation is that the XPF application will not launch in 10.0 (but it can install 10.0 if you launch XPF from Mac OS 9). There may be other limitations which apply to 10.0 and 10.1, but it mostly seems to work.

<p><li>Updates the PatchedBlockStorageDriver to deal with a potential issue with Mac OS X 10.3.3.
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0a14.sit">3.0a14 (March 6, 2004)</a>

<dd>Version 3.0a14 fixes a problem with updating the XPF extensions when doing an install -- there were circumstances in which old versions of the XPF extensions from a previous installation attempt weren't being updated. This may fix some install problems. 

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0a13.sit">3.0a13 (March 5, 2004)</a>

<dd>Here's a summary of what's new in 3.0a13.

<ul>
<p><li>Hopefully, the "<a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1161">Panther SCSI bug</a>" is now fixed (volumes not always appearing in Panther, especially SCSI volumes). This is by way of the PatchedBlockStorageDriver installed by XPF 3.0a13.

<p><li>Reverted the nvram patch for some of the Beige G3's to match Apple's version -- I had previously made some changes which appear to have caused problems for some people.
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0a12.sit">3.0a12 (March 3, 2004)</a>

<dd>Here's a list of what's new in version 3.0a12.

<ul>
<p><li>A video driver for the built-in video on the 7300 - 9600 series (at least, those which have built-in video). This is the OpenControlFramebuffer.kext, which will be installed by XPF 3.0a12.

<p><li>Fixed an issue with the installation procedure -- version 3.0a11 had inadvertently failed to install BootX when doing a fresh Mac OS X installation, which led to several difficulties.
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0a11.sit">3.0a11 (January 14, 2004)</a>

<dd>Here's a list of what's new in version 3.0a11.

<ul>
<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1009">1009 - Bless Mac OS 9 System Folders.</a>
<br>XPostFacto now has a "Bless Mac OS 9 System" menu command, which will re-bless the Mac OS 9 System Folder on the selected volume. (The Mac OS X Installer blesses the CoreServices folder instead, which is not necessary on Old World machines).

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1118">1118 - Startup item should re-bless Mac OS 9 System Folder.</a>
<br>The XPFStartupItem now automatically re-blesses the Mac OS 9 System Folder on the root volume if it detects that the CoreServices folder has been blessed instead. This should prevent the problems caused when the Mac OS X Installer blesses CoreServices.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1210">1210 - Put &quot;Options ...&quot; in a menu (and perhaps &quot;Restart ...&quot; and &quot;Install ...&quot;).</a>
<br><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1288">1288 - XPostFacto App window too large for 640x480 display.</a>
<br>There is now a "Window" menu in XPostFacto which gives access to the Log Window and the Options Window. This helps deal with 640 x 480 resolution, where the "Options..." button is off-screen.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1303">1303 - OWCCacheConfig tests not working right on cold boot with G4/700.</a>
<br>OWCCacheConfig was not detecting the correct cache values with a G4/700 on a cold boot (a warm boot worked fine). So I changed the strategy for detecting cache values for the L3 cache -- I'm now assuming a 200 MHz cache speed. Also delayed the cache testing until an accurate CPU speed is determined.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1337">1337 - AppleMaceEthernet slower in 3.0a10 versus 3.0a9.</a>
<br>Fixed performance problem introduced in Ethernet driver in 3.0a10. 

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1338">1338 - OpenPMUPCCardEject.kext not loading in 10.3.2.</a>
<br>Fixed a problem loading the OpenPMUPCCardEject.kext in 10.3.2.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1339">1339 - Mac OS X version sometimes fails to find Open Firmware name.</a>
<br>XPostFacto is now using a slightly different strategy for finding the Open Firmware name of a volume -- this fixes some cases where the Mac OS X version was unable to find an Open Firmware name.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1352">1352 - Should delete extensions cache when installing extensions in Mac OS 9.</a>
<br>Deletes the extensions cache when installing extensions in Mac OS 9, to make sure that the extensions cache gets updated.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1364">1364 - Improve BootX installation.</a>
<br>When installing BootX, XPostFacto now makes sure that the partition entry indicates that the partition is bootable, and that the boot-blocks are installed on the volume.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1375">1375 - Only take the boot-device and helper preferences from NVRAM.</a>
<br>XPostFacto had been taking some preferences from NVRAM, rather than the preferences file. However, the Mac OS X Installer makes changes to NVRAM, so it is better to take most preferences from the prefs file.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1378">1378 - Make sure that input-device and output-device are set if auto-boot is false.</a>
<br>If auto-boot? is false, you need the input-device and output-device set to control the boot process. So XPF now ensures that auto-boot? is true, unless you have the input-device and output-device set.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1415">1415 - Only synchronize when necessary.</a>
<br>XPostFacto used to use an optimized copy routine to synchronize extensions with the helper every time. Now, it checks the modification dates and only synchronizes when necessary. And, when synchronizing, it does a full copy rather than an optimized copy (since the optimization didn't save that much time and was a potential source of problems).

</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0a10.sit">3.0a10 (December 19, 2003)</a>
<dd>

Here's the list of changes since 3.0a9. The video drivers for built-in video on Panther are still coming.

<ul>
<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1022">1022 - Install only those items needed for a particular Mac OS X version.</a>
<br>XPF now only installs kernel extensions which are needed for a particular version of Mac OS X. This will eliminate some spurious error messages in the startup process.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1126">1126 - Ethernet shows up as &quot;cable not attached&quot; in Panther network status.</a>
<br>Network preferences will no longer say that the Ethernet cable is not attached to built-in Ethernet. (I'm not actually successfully detecting whether the cable is attached yet, but it's probably better to say that it is than that it isn't).

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1153">1153 - Mac OS X version crashes in OFAliases:aliasFor</a>
<br>Fixed a bug which caused XPF to crash with the Sonnet ATA 4.0 firmware installed.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1159">1159 - Should ask users about installing new versions of extensions etc..</a>
<br>Version 3 had been automatically installing things on a current Mac OS X installation without asking first. On reflection, this is bad manners, so XPF will now ask before installing anything. XPF will automatically check for things that need to be installed at two points: at launch, and when saving preferences. If there are things that need to be installed, XPF will display a dialog box to ask the user to confirm the install.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1196">1196 - XPF should use decimal, not hex, for partition number on Firewire devices.</a>
<br>Fixed the way that XPF constructs Open Firmware names where a volume has 10 or more partitions.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1199">1199 - Should default OWCCacheConfig to &quot;off&quot; until it's working better.</a>
<br>Default to having OWCCacheConfig turned off, rather than on, since it causes trouble for many, and needs to be fixed.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1205">1205 - Permissions on Library and tmp.</a>
<br>Fixed the permissions which XPostFacto sets for the /Library directory.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1211">1211 - PC cards not ejecting in Panther.</a>
<br>Incorporated the missing kernel extension from 10.2 which controlled the ejection of PC Cards.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1212">1212 - BootX uses &quot;screen&quot; alias for output, rather than the output-device.</a>
<br>Fixed the problem which caused the boot video on video cards on Beige G3 computers to appear late in the boot process.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1275">1275 - NVRAM patch resource not accounting for GossamerDeviceTreeUpdater.</a>
<br>Fixed a problem which prevented the Mac OS X version of XPF from working properly on the Beige G3 and Wallstreet Powerbooks.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1312">1312 - Add &quot;uninstall&quot; feature.</a>
<br>XPF now has an "Uninstall..." menu command, which you can use to uninstall the things that XPF has installed on a volume. The one exception is BootX -- what would be required in order to uninstall BootX would be to reinstall an original BootX, and I haven't implemented that yet.

<p><li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1314">1314 - GossamerDeviceTreeUpdater won't load in 10.3.2</a>
<br>Fixes a problem with the Beige G3 and the 10.3.2 update (the GossamerDeviceTreeUpdater wasn't loading in 10.3.2).

</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0a9.sit">3.0a9 (November 22, 2003)</a>
<dd>Initial support for Panther on the Wallstreet Powerbooks and the Beige G3. The main limitation on the Beige G3 is that the built-in video is not supported yet -- you need a video card. On the Wallstreet Powerbooks, video is problematic in some configurations, but it can be dealt with by changing colour depth or deleting the ATIRagePro.plugin extension. Support for Panther on Kanga is not ready yet.

<p>I have also made a couple of changes to the Mac OS X version of XPostFacto. XPF now writes to the system log in Mac OSX, rather than its own log file. I also fixed one bug which may have contributed to the problem initiating an install from the Mac OS X version. 

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0a8.sit">3.0a8 (November 17, 2003)</a>
<dd>I've added a new method of disabling OWCCacheConfig. XPF will now actually install or delete OWCCacheConfig.kext based on the setting you choose for "Enable L2/L3 Cache". I still haven't figured out why my previous method of disabling it isn't working (it works for me), but deleting it should be pretty certain to work :-)

<p>I've also fixed a problem which occurred if you launched XPF in Mac OS 9 and there was no Install CD around, and no existing Mac OS X volume. XPF should now do the expected thing when you quit in these circumstances (i.e., nothing).

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0a7.sit">3.0a7 (November 17, 2003)</a>
<dd>I've made some minor changes to OWCCacheConfig since 3.0a6. Some users are reporting problems with OWCCacheConfig -- and, worse, reporting that they are unable to disable it using the techniques below. Unfortunately, I can't reproduce the problem yet.

<p>I've also removed the AppleMaceEthernetPreJaguar kernel extension. One user reported that removing it solves a kernel panic which several users had reported.

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0a6.sit">3.0a6 (November 16, 2003)</a>
<dd>Here's a list of the bugs fixed since 3.0a4. Version 3.0a6 also has support for Mac OS X 10.3 on the 7300 - 9600 series (and friends), but without support for built-in video (yet). I'm also not entirely sure which video cards will work with 10.3 at this point.

<p>Support for 10.3 on the Beige G3 and Wallstreet is still coming.

<p><ul>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=855">855 - OWCCacheConfig causes kernel panic for G3 and G4 CPUs (but not the 74xx).</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=856">856 - Mac OS X version cannot install BootX.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=865">865 - Add version information for kernel extensions and startup item.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=867">867 - Splash screen does not always draw.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=870">870 - Volume selection improvements.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=871">871 - Should offer to write NVRAM when closing.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=873">873 - Check to make sure that &quot;sleep&quot; is disabled.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=874">874 - Offer reboot into Mac OS 9?.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=900">900 - Backlight not working on TAM.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=927">927 - Should warn earlier if NVRAM space insufficient for settings.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=928">928 - Progress bar should show progress.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=935">935 - Newly mounted volume not showing up right away in Mac OS X.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=937">937 - Make OWCCacheConfig respect the &quot;-c&quot; boot argument.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=956">956 - Mac OS X version not launching if disk image mounted.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=966">966 - XPF thinks the DiskWarrior CD is an Install CD.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=983">983 - Add &quot;recopy helper files&quot; command.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=985">985 - Restart in Mac OS 9 when synchronization necessary.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=990">990 - Fix interaction between XPostFacto and xpfbootsupportd.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1066">1066 - Mac OS X version will not launch if non-ASCII character in path.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1076">1076 - Mac OS X version sometimes launches in background.</a>
<li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=1114">1114 - Add romndrv=1 option (to get Panther to use old NDRVs).</a>
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0a4.sit">3.0a4 (September 22, 2003)</a>
<dd>Here's a list of the bugs fixed since 3.0a3. If you have noticed one of these bugs in 3.0a3, I'd be most grateful if you could test 3.0a4 and verify that the bug is actually fixed. In case you're interested, here's a link to the <a href="http://www.opendarwin.org/bugzilla/showdependencytree.cgi?id=951">bugs I'm hoping to fix<a/> before I release a beta version (but I might not get to all of them).
<p>
<ul>
    <li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=858">858 - Mac OS X version should construct Open Firmware names in the same way as Mac OS 9 version.</a>
    <li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=861">861 - Test support for BootCD.</a>
    <li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=866">866 - Update Extensions.mkext when installing extensions in Mac OS X.</a>
    <li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=875">875 - Launching URLs doesn't work in the Mac OS 9 version.</a>
    <li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=883">883 - Cannot eject disks while XPostFacto is running.</a>
    <li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=897">897 - Volume list should show why some drives are not bootable.</a>
    <li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=908">908 - Must turn off &quot;ignore ownership&quot; before installing extensions etc..</a>
    <li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=910">910 - Make &quot;debug&quot; options available to facilitate testing.</a>
    <li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=912">912 - Volume scroll list does not scroll selected volume into view upon launch.</a>
    <li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=913">913 - Volume scroll list should scroll in proper increments.</a>
    <li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=926">926 - Use application font (not system font) in log window.</a>
    <li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=929">929 - Ownership of created directories wrong in Mac OS 9 version.</a>
    <li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=930">930 - Newly mounted volume not showing up right away in Mac OS 9.</a>
    <li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=932">932 - Fix deletion of Extensions.mkext from helper when deleted from target.</a>
    <li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=934">934 - xpfbootsupportd crashes AFTER successfully updating the Extensions folder.</a>
    <li><a href="http://www.opendarwin.org/bugzilla/show_bug.cgi?id=943">943 - Need icon for Mac OS X version.</a>
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto3.0a3.sit">3.0a3 (September 1, 2003)</a>
<dd>A pretty major rewrite. This is an alpha version, which means that there are some features not implemented yet, and probably some bugs. Here's a quick summary of what <b>should</b> be working (but may still have bugs), and what is not implemented yet.

<P>Should be working (but possibly with bugs):

<P>
<ul>
<li>Now launches in Mac OS X as well as Mac OS 9.
<li>Should be able to boot from Firewire drives, using the "helper" mechanism.
<li>Should be able to boot any CD that would boot on a supported system.
</ul>

<p>Not implemented yet:
<ul>
<li>L2/L3 cache configuration (almost done, but some bugs remain to be found).
<li>Panther support (Mac OS X 10.3).
<li>USB booting.
<li>AppleEvent support.
<li>Additional platform support (Starmax etc.).
<li>Some user interface elements.
</ul>

<p>One other limitation is that it is not possible to do an Install from the Mac OS X version of XPostFacto yet--you will need to reboot into Mac OS 9 first.

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.2.5.sit">2.2.5 (January 4, 2003)</a>
<dd>
<ul>
<li>Fixes a problem with certain SCSI cards which use multiple busses (in particular, some of the ATTO cards).
<li>Works better in situations where the settings had previously required too much space in NVRAM
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.2.4.sit">2.2.4 (October 21, 2002)</a>
<dd>Fixes a problem with version 2.2.3 that could cause a kernel panic when installing Mac OS X 10.2.

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.2.3.sit">2.2.3 (October 7, 2002)</a>
<dd>
<ul>
<li>Fixes a couple of problems with Darwin 6. 
Will now recognize the Darwin 6 Install CD as an installer. Also, will automatically boot in verbose mode when booting Darwin.
<li>Will now find the correct Open Firmware name for the Sonnet ATA/100 card with the 2.3.5 firmware applied. 
Users report that the boot process still fails, though, so further investigation is required. 
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.2.2.sit">2.2.2 (September 12, 2002)</a>
<dd>
<ul>
<li>Fixes the problem starting Classic in Mac OS X 10.2. Remember to reinstall the extensions in order to apply the fix. (You can do this from within Mac OS X now by launching XPostFacto). 
<li>Uses a little less NVRAM when installing.
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.2.1.sit">2.2.1 (September 2, 2002)</a>
<dd>
<ul>
<li>Updated the custom BootX to use the new boot graphic from Mac OS X 10.2. This looks a little odd when used with Mac OS X 10.0 or 10.1, but it works OK.
<li>Added a "debug" preference to show panic text, rather than the new panic dialog.
<li>Fixed the problem with the SCSI bus on unsupported Powerbooks.
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.2.sit">2.2 (August 23, 2002)</a>
<dd>
<p>The changes since version 2.2b17 are as follows:<p>

<ul>
<li>Fixes problem with booting from external SCSI drives in Mac OS X 10.0.
<li>Only allows the "install" button to be used with the Install CD (not "restart").
</ul>

<p>And here is a summary of the changes since version 2.11 (the last non-beta version):<p>

<ul>
<li>Support for Mac OS X 10.2 (aka Jaguar).
<li>Partial support for the original Powerbook G3, the 2400, and the 3400. (There are still some significant limitations).
<li>Support for the Beige G3s.
<li>Support for some additional PowerComputing models.
<li>Support for leaving onboard video disconnected when using a video card.
<li>Support for UltraTek IDE cards (along with OWC's firmware update).
<li>The "throttle" feature, which slows down the CPU in the earliest part of the boot process, and helps booting some SCSI devices when using a CPU upgrade card.
<li>No longer panics on first reboot after clean install.
<li>Better documentation.
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.2b17.img.sit">2.2b17 (August 18, 2002)</a>
<dd>
<ul>
<li>Fixes the "file not found" error when trying to install Mac OS X 10.0 (the error was introduced in version 2.2b15).
<li>Fixes the "squished cursor" problem when using Jaguar with onboard video.
<li>Extensions built with the Jaguar development tools and headers.
<li>Minor updates to BootX to synchronize with Apple's changes.
<li>Uses slightly less NVRAM when setting up the install.
<li>Is now able to install the current version of the extensions while running in Mac OS X.
This takes the place of the "package" file which was formerly included.
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.2b16.img.sit">2.2b16 (August 10, 2002)</a>
<dd><p>
Fixes a problem which prevented some of the kernel extensions from loading properly in 2.2b15, which could cause a kernel panic early in the boot process. 

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.2b15.img.sit">2.2b15 (August 8, 2002)</a>
<dd>
<ul>
<li>Fixes the "kernel panic on first reboot after clean install" problem. 
<li>Better compatibility with Mac OS X 10.2.
<li>On the Beige G3s, saves some space in the NVRAM patches (at the expense of net-booting).
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.2b14.sit">2.2b14 (July 10, 2002)</a>
<dd>
<ul>
<li>Fixes several problems which affected the Beige G3s.  
<li>May work with additional PowerCenter models, if they have video cards installed. 
<li>Integrates this documentation into the application itself (see the 'Help' menu). This makes it possible to distribute XPostFacto as a single application file.
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.2b9.img.sit">2.2b9 (June 29, 2002)</a>
<dd>
<ul>
<li>Permits unsupported Powerbooks to use Mac OS X 10.1.1 and later. However, sleep now crashes the system (in previous versions, sleep did not work, but at least it failed gracefully). So you will need to avoid sleep for the time being.
<li>May now work with the Beige G3. Ordinarily, Mac OS X should just work with the Beige G3, but there are some cases in which the Beige G3 has problems that XPostFacto may be able to help with. XPostFacto is untested on Beige G3s, so if you try it, let me know how it works.
<li>Has some limited support for the 6400 and 6500. My 6500 still has problems with the SCSI bus, so booting from a CD does not work. So the 6400 and 6500 support is mostly for people who want to work on the problems, rather than the ordinary user.
<li>A great deal of restructuring in the source code of the XPostFacto application. Some things may have been broken in the process--let me know.
<li>A "debug" menu, for accessing certain debugging features in the Mac OS X kernel. If you do not know what the options mean, just leave them unselected.
<li>Better error messages if you launch XPostFacto in Mac OS X or in Mac OS 8.x.
<li>The "prepare a custom CD" feature is gone for the moment. It did not work with recent versions of the install CD. I should be able to fix this, but have not gotten around to it yet.
<li>Source code now in the cvs repository at <a href="http://www.opendarwin.org/cgi-bin/cvsweb.cgi/proj/">http://www.opendarwin.org/</a>
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.2b7.img.sit">2.2b7 (April 20, 2002)</a>
<dd>Restores the "throttle" menu, so that you can adjust the processor throttling. Really, truly avoids persistent processor throttling when rebooting in Mac OS 9. 
Should add support for the later 8600 and 9600 models (i.e. the 8600/250, 8600/300, 9600/300, 9600/350), but is not well tested on those machines.

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.2b4.img.sit">2.2b4 (April 16, 2002)</a>
<dd>Fixes a problem with the "throttle" feature of version 2.2b3. On some machines, it was possible for the processor throttling to persist when you reboot into Mac OS 9 (which is undesirable). Version 2.2b4 fixes that. (Well, I thought it did. It turns out that a few more changes were needed--and they are in version 2.2b7).

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.2b3.img.sit">2.2b3 (April 13, 2002)</a>
<dd>
This release allows you to throttle (i.e. slow down) a G3 or G4 processor upgrade during the earliest part of the boot process. This sometimes solves problems that some users have experienced when booting with G3 and G4 upgrade cards. If you have been stuck with a blank screen on reboot with earlier versions of XPostFacto, it is possible that this version will work better for you (assuming you have a processor upgrade).

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.2b1.img.sit">2.2b1 (April 7, 2002)</a>
<dd><ul><li>Beta-level support for the original Powerbook G3, the 3400 and (possibly) the 2400. 
<li>Fixes for the "kernel panic if nothing connected to onboard video" problem. (The ATI driver update will still be needed for some ATI cards, however). 
<li>Will permit installation onto drives connected to the UltraTek IDE card (with the OWC/FirmTek upgrade applied). 
<li>Fixes a problem installing Darwin 1.4.1. 
<li>Fixes a problem with Mac OS 9.2.x.
</ul>

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.11.img.sit">2.11 (January 21, 2002)</a>
<dd>Fixes a problem reading the catalog of highly fragmented drives. Partially fixes an incompatibility with NoFinderZoom9. Provides some feedback when preparing custom install CDs.

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/XPostFacto2.1.img.sit">2.1 (January 13, 2002)</a>
<dd>Adds support for additional SCSI CD-ROM devices, including some CD-R and CD-RW devices (courtesy of <a href="http://www.elgato.com/">El-Gato Software</a>). Adds the ability to create a custom install CD for older machines. Various bug fixes.

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Download/UnsupportedUtilityX.img.sit">2.0 (October 29, 2001)</a>
<dd>Better error logging.

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/UUX2.0b4.img.sit">2.0b4 (October 13, 2001)</a>
<dd>Fixes a problem booting from a SCSI card or IDE card installed in the lower three slots of six-slot systems. Fixes a problem running out of NVRAM space in some configurations.

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/UUX2.0b3.img.sit">2.0b3 (October 2, 2001)</a>
<dd>Restores support for some CD-ROM mechanisms that were not bootable in version 2.0b1 and 2.0b2. Changes the installation strategy to access the CD-ROM later in the boot process.

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/UUX2.0b2.img.sit">2.0b2 (September 30, 2001)</a>
<dd>Fixes a bug that had created problems in some situations when installing BootX (the Mac OS X bootloader). Also keeps track of the version of BootX that is installed, so that it can be updated when necessary. Adds an 'Open Firmware' menu which can be used to interact with Open Firmware (and BootX) at boot time (see documentation below).

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/UUX2.0b1.img.sit">2.0b1 (September 23, 2001)</a>
<dd>More changes meant to improve compatibility with future versions of Mac OS X. The installation strategy has changed significantly in this version. UUX now installs a modified version of BootX which loads kernel extensions from more than one source.

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/UnsupportedUtilityX1.1.img.sit">1.1 (August 22, 2001)</a>
<dd>A variety of changes meant to improve compatibility with future versions of Mac OS X. It may turn out that further changes are required.

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/UnsupportedUtilityX1.0.img.sit">1.0 (August 3, 2001)</a>
<dd>Verified that Mac OS X Server can be installed successfully.

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/UnsupportedUtilityX1.0b10.img.sit">1.0b10 (July 27, 2001)</a>
<dd>Fixed a problem booting Darwin 1.3.1 (the "file not found" error).

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/UnsupportedUtilityX1.0b9.img.sit">1.0b9 (July 26, 2001)</a>
<dd>Now pre-installs BootX in the manner required for older machines. This should allow installation to work with a broader range of CD-ROM models. It also helps to install Mac OS X Server and Darwin 1.3.1. Also added options for booting in verbose mode and single user mode.

<dt><p><a href="http://eshop.macsales.com/OSXCenter/XPostFacto/Archive/UnsupportedUtilityX1.0b8.img.sit">1.0b8 (June 18, 2001)</a>
<dd>Original release
</dl>

</body>
